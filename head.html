<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<script src="/scripts/aem.js" type="module"></script>
<script src="/scripts/scripts.js" type="module"></script>
<link rel="stylesheet" href="styles/styles.css">
<link rel="stylesheet" href="styles/reset.css">
<link rel="stylesheet" href="styles/reveal.css">
<link rel="stylesheet" href="styles/theme/league.css" id="theme">
<link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" href="/icon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">

<!-- Theme Switcher -->
<select id="theme-switcher" style="position: fixed; top: 10px; right: 10px; z-index: 9999;">
  <option value="league">League</option>
  <option value="beige">Beige</option>
  <option value="black">Black</option>
  <option value="blood">Blood</option>
  <option value="moon">Moon</option>
  <option value="night">Night</option>
  <option value="serif">Serif</option>
  <option value="simple">Simple</option>
  <option value="sky">Sky</option>
  <option value="solarized">Solarized</option>
  <option value="white">White</option>
</select>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const themeLink = document.getElementById('theme');
  const themeSwitcher = document.getElementById('theme-switcher');

  // Set the dropdown to the current theme
  const currentTheme = themeLink.getAttribute('href').match(/theme\/([a-z]+)\.css/)[1];
  themeSwitcher.value = currentTheme;

  themeSwitcher.addEventListener('change', function() {
    const newTheme = themeSwitcher.value;
    themeLink.setAttribute('href', `styles/theme/${newTheme}.css`);
    // Optionally, save the selection to localStorage
    localStorage.setItem('reveal-theme', newTheme);
  });

  // On load, check if a theme is saved in localStorage
  const savedTheme = localStorage.getItem('reveal-theme');
  if (savedTheme && savedTheme !== currentTheme) {
    themeLink.setAttribute('href', `styles/theme/${savedTheme}.css`);
    themeSwitcher.value = savedTheme;
  }
});
</script>
